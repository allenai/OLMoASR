gantry run \
  --name "cross_check" \
  --description "Cross checking between full and seg dirs to make sure full dir only has IDs that are trainable (segmented, in seg dirs)" \
  --allow-dirty \
  --no-nfs \
  --preemptible \
  --workspace ai2/open-whisper \
  --cluster ai2/neptune-cirrascale \
  --cpus 10 \
  --pip requirements-filter.txt \
  --budget ai2/oe-data \
  --replicas 20 \
  --priority high \
  --weka oe-data-default:/weka \
  -- /bin/bash -c "python scripts/data/processing/cross_check.py \
    --full_dir_path=/weka/huongn/ow_full \
    --seg_dir_path=/weka/huongn/ow_seg \
    --spill_dir=/weka/huongn/ow_spill \
    --batch_size=1060 \
    --start_shard_idx=0 \
    --end_shard_idx=21194 \
    --dry_run=True
    " 