version: v2
budget: ai2/oe-data
description: Generating samples dictionaries
tasks:
  - name: gen_samples_dicts
    image:
      beaker: huongn/gen_samples_dicts
    command: ['/bin/bash', '-c']
    arguments: ['python /stage/scripts/data/filtering/gen_smpls_dicts.py gen_smpls_dicts --segs_dirs_file=/stage/logs/data/filtering/not_lower.txt --result_path=/weka/huongn/metadata/no_lower_mach_gen.jsonl']
    datasets:
    - mountPath: /weka
      source:
        weka: oe-data-default
    context:
      preemptible: true
    constraints:
      cluster:
        - ai2/jupiter-cirrascale-2